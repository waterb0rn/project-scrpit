movement.cs

using System.Collections;
using System.Collections.Generic;
using UnityEngine;
using UnityEngine.UIElements;
using static UnityEditor.Experimental.GraphView.GraphView;

public class movement : MonoBehaviour
{
    private float Move;
    [SerializeField] private float Jump;
    [SerializeField] private float Speed;
    [SerializeField] private float DashSpeed;
    private bool isGrounded;
    private bool isDashing;
    private float dashDuration = 0.2f;
    private bool canDash;
    private bool inDashCD;
    private float dashCD = 1.5f;


    [SerializeField] public Sprite spriteColor;
    [SerializeField] private Sprite spriteColor1;
    [SerializeField] private Sprite spriteColor2;
    [SerializeField] private Sprite spriteColor3;

    public Transform player;
    public Transform respawnPoint;
    public Transform deadPoint;
    


    private Rigidbody2D rb;
    private SpriteRenderer sr;

    // Start is called before the first frame update
    void Start()
    {
        rb = GetComponent<Rigidbody2D>();
        isGrounded = true;
        sr = GetComponent<SpriteRenderer>();

        canDash = true;
    }

    // Update is called once per frame
    void Update()
    {
        Move = Input.GetAxis("Horizontal");

        rb.velocity = new Vector2(Move * Speed, rb.velocity.y);

        if (Input.GetKeyDown(KeyCode.Space) && isGrounded == true)
        {
            rb.velocity = new Vector2(rb.velocity.x, Jump);
            isGrounded = false;
        }

        if(Input.GetKeyDown(KeyCode.Q) && canDash == true)
        {
            StartCoroutine(Dash());
        }
        
        if(isDashing == true)
        {
            spriteColor = spriteColor2;
        }
        else if(inDashCD == true)
        { 
            spriteColor = spriteColor3;
        }
        else
        {
            spriteColor = spriteColor1;
        }

        sr.sprite = spriteColor;

        

    }

    void OnCollisionStay2D()
    {
        isGrounded = true;
    }
    private void OnCollisionExit2D()
    {
        isGrounded = false;
    }

    

    private void OnTriggerEnter2D()
    {
        if(isDashing == false)
        {
            player.position = deadPoint.position;
            Invoke("RespawnPlayer", 1f);
        }
    }

    public void RespawnPlayer()
    {
        
        player.position = respawnPoint.position;
    }

    private IEnumerator Dash()
    {
        canDash = false;
        isDashing = true;
        float originalGravity = rb.gravityScale;
        rb.gravityScale = 0f;
        rb.velocity = new Vector2(rb.velocity.x * DashSpeed, 0f);
        yield return new WaitForSeconds(dashDuration);
        rb.gravityScale = originalGravity;
        isDashing = false;
        inDashCD = true;
        yield return new WaitForSeconds(dashCD);
        canDash = true;
        inDashCD = false;
    }

}




LaserScript.cs

using System.Collections;
using System.Collections.Generic;
using System.Threading;
using UnityEngine;

public class LaserScript : MonoBehaviour
{
    [SerializeField] private float countdown;
        
    
    // Start is called before the first frame update
    void Start()
    {
        
    }

    // Update is called once per frame
    void Update()
    {
        if(countdown <= 0)
        {
            gameObject.SetActive(false);
        }
        else
        {
            countdown -= Time.deltaTime;
        }

    }
}




LaserSpawner.cs

using System;
using System.Collections;
using System.Collections.Generic;
using System.Runtime.CompilerServices;
using Unity.Mathematics;
using UnityEngine;

public class LaserSpawner : MonoBehaviour
{
    public GameObject laser;
    public GameObject preLaser;

    [SerializeField] private float spawnRate;
    private float timer = 0;

    public Transform One;
    public Transform Two;
    public Transform Three;
    public Transform Four;
    public Transform Five;
    public Transform Six;
    public Transform Seven;
    public Transform Eight;
    public Transform Nine;

    private float laserPos = 1;

    [SerializeField] private float leftRight;
    private float furthestLeft;
    private float furthestRight;

    // Start is called before the first frame update
    void Start()
    {
        leftRight = 5;

        furthestRight += leftRight;
        furthestLeft -= leftRight;
    }

    // Update is called once per frame
    void Update()
    {
        if (timer <= spawnRate)
        {
            timer = timer + Time.deltaTime;
        }
        else
        {
            timer = 0;
            if(laserPos == 1)
            {
                Instantiate(laser, new Vector3(One.position.x, transform.position.y, 0), Quaternion.identity);
                laserPos += 1;
            }
            else if (laserPos == 2)
            {
                Instantiate(laser, new Vector3(Two.position.x, transform.position.y, 0), Quaternion.identity);
                laserPos += 1;
            }
            else if(laserPos == 3)
            {
                Instantiate(laser, new Vector3(Three.position.x, transform.position.y, 0), Quaternion.identity);
                laserPos += 1;
            }
            else if (laserPos == 4)
            {
                Instantiate(laser, new Vector3(Four.position.x, transform.position.y, 0), Quaternion.identity);
                laserPos += 1;
            }
            else if (laserPos == 5)
            {
                Instantiate(laser, new Vector3(Five.position.x, transform.position.y, 0), Quaternion.identity);
                laserPos += 1;
            }
            else if (laserPos == 6)
            {
                Instantiate(laser, new Vector3(Six.position.x, transform.position.y, 0), Quaternion.identity);
                laserPos += 1;
            }
            else if (laserPos == 7)
            {
                Instantiate(laser, new Vector3(Seven.position.x, transform.position.y, 0), Quaternion.identity);
                laserPos += 1;
            }
            else if (laserPos == 8)
            {
                Instantiate(laser, new Vector3(Eight.position.x, transform.position.y, 0), Quaternion.identity);
                laserPos += 1;
            }
            else if (laserPos == 9)
            {
                Instantiate(laser, new Vector3(Nine.position.x, transform.position.y, 0), Quaternion.identity);
                laserPos = 1;
            }
        }

    }
}
